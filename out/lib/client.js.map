{"version":3,"sources":["../../src/lib/client.js"],"names":["Client","baseurl","username","password","_baseUrl","_options","headers","Object","assign","auth","options","uri","encodeURI","get","fromNullable","data","json","put","post","delete"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;;;;;;;IAEqBA,M;AAEnB,kBAAaC,OAAb,EAAsBC,QAAtB,EAAgCC,QAAhC,EAA0C;AAAA;;AACxC,SAAKC,QAAL,GAAmBH,OAAnB;AACA,SAAKI,QAAL,GAAgB;AACdC,eAAS;AACP,wBAAgB,kBADT;AAEP,kBAAU;AAFH;AADK,KAAhB;;AAOA,QAAI,CAAC,CAACJ,QAAF,IAAc,CAAC,CAACC,QAApB,EAA8B;AAC5BI,aAAOC,MAAP,CAAc,KAAKH,QAAnB,EAA6B,EAAEI,MAAM,EAAEP,kBAAF,EAAYC,kBAAZ,EAAR,EAA7B;AACD;AACF;;;;;4EAEWO,O;;;;;AACVA,wBAAQC,GAAR,GAAcC,UAAUF,QAAQC,GAAlB,CAAd;;;uBACgC,yBAC7BE,GAD6B,CACzBN,OAAOC,MAAP,CAAcE,OAAd,EAAuB,KAAKL,QAA5B,CADyB,C;;;;6DAAnBS,Y;;;;;;;;;;;;;;;;;;;8EAIHJ,O,EAASK,I;;;;;AACnBL,wBAAQC,GAAR,GAAcC,UAAUF,QAAQC,GAAlB,CAAd;AACAD,0BAAUH,OAAOC,MAAP,CAAcE,OAAd,EAAuB,KAAKL,QAA5B,EAAsC,EAAEW,MAAMD,IAAR,EAAtC,CAAV;;;uBACgC,yBAAQE,GAAR,CAAYP,OAAZ,C;;;;+DAAnBI,Y;;;;;;;;;;;;;;;;;;;8EAGFJ,O,EAASK,I;;;;;AACpBL,wBAAQC,GAAR,GAAcC,UAAUF,QAAQC,GAAlB,CAAd;AACAD,0BAAUH,OAAOC,MAAP,CAAcE,OAAd,EAAuB,KAAKL,QAA5B,EAAsC,EAAEW,MAAMD,IAAR,EAAtC,CAAV;;;uBACgC,yBAAQG,IAAR,CAAaR,OAAb,C;;;;+DAAnBI,Y;;;;;;;;;;;;;;;;;;;8EAGAJ,O;;;;;AACbA,wBAAQC,GAAR,GAAcC,UAAUF,QAAQC,GAAlB,CAAd;;;uBACgC,yBAC7BQ,MAD6B,CACtBZ,OAAOC,MAAP,CAAcE,OAAd,EAAuB,KAAKL,QAA5B,CADsB,C;;;;+DAAnBS,Y;;;;;;;;;;;;;;;;;;;;;kBApCId,M","file":"client.js","sourcesContent":["import request from 'request-promise';\nimport maybe from 'data.maybe';\n\nexport default class Client {\n\n  constructor (baseurl, username, password) {\n    this._baseUrl = `${baseurl}/httpAuth/app/rest`;\n    this._options = {\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n    };\n\n    if (!!username && !!password) {\n      Object.assign(this._options, { auth: { username, password } });\n    }\n  }\n\n  async _get (options) {\n    options.uri = encodeURI(options.uri);\n    return maybe.fromNullable(await request\n      .get(Object.assign(options, this._options)));\n  }\n\n  async _put (options, data) {\n    options.uri = encodeURI(options.uri);\n    options = Object.assign(options, this._options, { json: data });\n    return maybe.fromNullable(await request.put(options));\n  }\n\n  async _post (options, data) {\n    options.uri = encodeURI(options.uri);\n    options = Object.assign(options, this._options, { json: data });\n    return maybe.fromNullable(await request.post(options));\n  }\n\n  async _delete (options) {\n    options.uri = encodeURI(options.uri);\n    return maybe.fromNullable(await request\n      .delete(Object.assign(options, this._options)));\n  }\n}\n\n"]}